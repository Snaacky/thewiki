<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.4.1.748031297141">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.4.1">

    <!-- Primary Meta Tags -->
    <title>Comparison</title>
    <meta name="title" content="Comparison">
    <meta name="description" content="Learn how to compare various sources of a video">

    <!-- Canonical -->
    <link rel="canonical" href="https://thewiki.moe/tutorials/comparison/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thewiki.moe/tutorials/comparison/">
    <meta property="og:title" content="Comparison">
    <meta property="og:description" content="Learn how to compare various sources of a video">
    <meta property="og:image" content="https://thewiki.moe/static/comparison/hyouka.gif">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://thewiki.moe/tutorials/comparison/">
    <meta property="twitter:title" content="Comparison">
    <meta property="twitter:description" content="Learn how to compare various sources of a video">
    <meta property="twitter:image" content="https://thewiki.moe/static/comparison/hyouka.gif">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=3.4.1.748031297141" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.4.1.748031297141" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.4.1" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.4.1.748031297141" data-turbo-eval="false" defer></script>
    <script id="prism-js" data-cfasync="false" src="../../resources/js/prism.js?v=3.4.1.748031297141" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">The Wiki</span>
                        </a>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="comparison" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#comparison">#</doc-anchor-trigger>
        <span>Comparison</span>
    </h1>
</doc-anchor-target>
<p>Comparisons are frequently used within the enthusiast community to compare the video quality offered by different sources, be that official releases or user made encodes. This guide goes through the process of setting up and effectively utilising Vapoursynth-Preview to produce useful comparisons that will allow you to ascertain which release offers the best visual experience.</p>
<doc-anchor-target id="initial-setup">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#initial-setup">#</doc-anchor-trigger>
        <span>Initial setup</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="installing-dependencies">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#installing-dependencies">#</doc-anchor-trigger>
        <span>Installing dependencies</span>
    </h3>
</doc-anchor-target>
<ol>
<li><p>Install <a href="https://www.python.org/ftp/python/3.11.4/python-3.11.4-amd64.exe">Python 3.11</a> - During installation tick <code v-pre>Add python.exe to PATH</code>.</p>
</li>
<li><p>Install <a href="https://gitforwindows.org/">Git</a></p>
</li>
<li><p>Install <a href="https://github.com/vapoursynth/vapoursynth/releases/download/R63/VapourSynth64-R63.exe">Vapoursynth</a> - Select <code v-pre>Install for me only</code>.</p>
</li>
<li><p>Before we install vs-preview, we need to install the following dependencies:</p>
<p><a href="https://github.com/DJATOM/LibP2P-Vapoursynth" title="LibP2P"><code v-pre>LibP2P</code></a> <a href="https://github.com/HomeOfAviSynthPlusEvolution/L-SMASH-Works" title="LSMASHSource"><code v-pre>LSMASHSource</code></a> <a href="https://github.com/vapoursynth/subtext" title="Subtext"><code v-pre>Subtext</code></a> <a href="https://github.com/Lypheo/vs-placebo" title="vs-placebo"><code v-pre>vs-placebo</code></a> <a href="https://github.com/quietvoid/dovi_tool/releases/tag/libdovi-1.6.7" title="libdovi"><code v-pre>libdovi</code></a> <a href="https://github.com/OpusGang/awsmfunc" title="awsmfunc"><code v-pre>awsmfunc</code></a></p>
</li>
</ol>
<p>To install LSMASHSource, download <a href="https://github.com/HomeOfAviSynthPlusEvolution/L-SMASH-Works/releases" title="LSMASHSource">LSMASHSource</a> and open it.
Inside the zip, open the x64 folder, copy <code v-pre>LSMASHSource.dll</code> and paste it in <code v-pre>%appdata%\VapourSynth\plugins64</code>
To install the rest of the plugins, run the following commands in your terminal:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">vsrepo.py install libp2p sub placebo dovi_library</code></pre>
</doc-codeblock></div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">pip install git+https://github.com/OpusGang/awsmfunc.git</code></pre>
</doc-codeblock></div>
<div class="flex mb-6">
    <div class="shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3 w-full">
<p>If <code v-pre>vsrepo.py</code> command doesn&#x27;t work, make sure Windows is set to open <code v-pre>.py</code> files with Python.</p>
        </div>
    </div>
</div>
<ol start="5">
<li>Install <a href="https://github.com/Irrational-Encoding-Wizardry/vs-preview">vs-preview</a>:</li>
</ol>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">pip install vspreview</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="the-comparison-script">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#the-comparison-script">#</doc-anchor-trigger>
        <span>The comparison script</span>
    </h3>
</doc-anchor-target>
<ol>
<li>Create a new file called <code v-pre>comp.vpy</code>.</li>
<li>Open <code v-pre>comp.vpy</code> with a text editor such as Notepad++ and paste the following, edit as required, and save it:</li>
</ol>
<doc-panel id="comp-vpy-contents" collapsed>
    <template #title>comp.vpy contents</template>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-python"><code v-pre class="language-python">## Boring stuff: Ignore me
import vapoursynth as vs
from vapoursynth import core
from awsmfunc import FrameInfo
from vspreview import set_output

## File paths: Hold shift and right-click your file, select copy as path, and paste it here
clip1 = core.lsmas.LWLibavSource(r&quot;C:\Paste\File\Path\Here.mkv&quot;)
clip2 = core.lsmas.LWLibavSource(r&quot;C:\Paste\File\Path\Here.mkv&quot;)
clip3 = core.lsmas.LWLibavSource(r&quot;C:\Paste\File\Path\Here.mkv&quot;)

## Source: Name of the source
source1 = &quot;FirstSourceName&quot;
source2 = &quot;SecondSourceName&quot;
source3 = &quot;ThirdSourceName&quot;

## FieldBased: Sets the content as either progressive (0) or interlaced (1/2), required for progressive content tagged as interlaced
##clip1 = core.std.SetFieldBased(clip1, 0)
##clip2 = core.std.SetFieldBased(clip2, 1)
##clip3 = core.std.SetFieldBased(clip3, 2)

## Convert: Convert clip to 16bit 444 (Only for filters that need it such as tonemapping and gamma fixing)
##clip1 = core.resize.Bicubic(clip1, format=vs.YUV444P16)
##clip2 = core.resize.Bicubic(clip2, format=vs.YUV444P16)
##clip3 = core.resize.Bicubic(clip3, format=vs.YUV444P16)

## Cropping: Removes letterboxing (Black bars) [16 BIT REQUIRED FOR ODD NUMBERS]
##clip1 = core.std.Crop(clip1, left=240, right=240, top=0, bottom=0)
##clip2 = core.std.Crop(clip2, left=0, right=0, top=276, bottom=276)
##clip3 = core.std.Crop(clip3, left=0, right=0, top=21, bottom=21)

## Scaling: Up/downscale clips to match, recommended to scale to the highest resolution
##clip1 = core.resize.Spline36(clip1, 1920, 1080)
##clip2 = core.resize.Spline36(clip2, 1920, 1080)
##clip3 = core.resize.Spline36(clip3, 3840, 2160)

## Trimming: Trim frames to match clips (Calculate the frame difference and enter the number here)
##clip1 = clip1[0:]
##clip2 = clip2[24:]
##clip3 = clip3[0:]

## Set FPS: Change fps to match other sources, only needed when the previewer doesn't automatically keep them in sync
##clip1 = core.std.AssumeFPS(clip1, fpsnum=24000, fpsden=1001)
##clip2 = core.std.AssumeFPS(clip2, fpsnum=25000, fpsden=1000)
##clip3 = core.std.AssumeFPS(clip3, fpsnum=24000, fpsden=1000)

## Tonemapping: For HDR/DV content only, src_csp=1 is for HDR (and DV Profile 8), src_csp=3 is for DV (Profile 5) [16 BIT REQUIRED]
##clip1 = core.placebo.Tonemap(clip1, dynamic_peak_detection=1, tone_mapping_function=2, tone_mapping_mode=1, src_csp=1, dst_csp=0, gamut_mode=0, use_dovi=1)
##clip2 = core.placebo.Tonemap(clip2, dynamic_peak_detection=1, tone_mapping_function=2, tone_mapping_mode=1, src_csp=3, dst_csp=0, gamut_mode=0, use_dovi=1)
##clip3 = core.placebo.Tonemap(clip3, dynamic_peak_detection=1, tone_mapping_function=2, tone_mapping_mode=1, src_csp=1, dst_csp=0, gamut_mode=0, use_dovi=1, dst_max=120)

##Set Colour Range: Marks the clip as limited (0) or full (1) range, DV clips will need to be set to limited after tonemapping.
##clip1 = core.resize.Bicubic(clip1, format=vs.YUV444P16, range=0)
##clip2 = core.resize.Bicubic(clip2, format=vs.YUV444P16, range=0)
##clip3 = core.resize.Bicubic(clip3, format=vs.YUV444P16, range=1)

## Gamma: Fix Gamma bug (When one source is much brighter than others) [16 BIT REQUIRED]
##clip1 = core.std.Levels(clip1, gamma=0.88, min_in=4096, max_in=60160, min_out=4096, max_out=60160, planes=0)
##clip2 = core.std.Levels(clip2, gamma=0.88, min_in=4096, max_in=60160, min_out=4096, max_out=60160, planes=0)
##clip3 = core.std.Levels(clip3, gamma=0.88, min_in=4096, max_in=60160, min_out=4096, max_out=60160, planes=0)

## Set Matrix: If source has incorrect/missing metadata, usually applies to 4K SDR and content you're up/downscaling. (Colours will be off, particularly reds, greens, and blues)
##clip1 = core.std.SetFrameProp(clip1, prop=&quot;_Matrix&quot;, intval=1)
##clip2 = core.std.SetFrameProp(clip2, prop=&quot;_Matrix&quot;, intval=6)
##clip3 = core.std.SetFrameProp(clip3, prop=&quot;_Matrix&quot;, intval=5)

## Correct Matrix: If the colours cannot be corrected with the above command [16 BIT REQUIRED]
##clip1 = core.resize.Point(clip1, matrix=5)
##clip1 = core.std.SetFrameProp(clip1, prop=&quot;_Matrix&quot;, intval=1)
##clip2 = core.resize.Point(clip2, matrix=6)
##clip2 = core.std.SetFrameProp(clip2, prop=&quot;_Matrix&quot;, intval=1)
##clip3 = core.resize.Point(clip3, matrix=4)
##clip3 = core.std.SetFrameProp(clip3, prop=&quot;_Matrix&quot;, intval=1)

## Fix Double range compression: When one source looks very washed out
##clip1 = core.resize.Point(clip1, range_in=0, range=1, dither_type=&quot;error_diffusion&quot;)
##clip1 = core.std.SetFrameProp(clip1, prop=&quot;_ColorRange&quot;, intval=1)

## Frameinfo: Displays the frame number, type, and group name in the top left corner (Leave these lines untouched, it reads the source from the top)
clip1= FrameInfo(clip1, source1)
clip2= FrameInfo(clip2, source2)
clip3= FrameInfo(clip3, source3)

## FrameProp: Slow.pics/file name labelling (Leave these lines untouched, it reads the source from the top)
clip1 = clip1.std.SetFrameProp('Name', data = source1)
clip2 = clip2.std.SetFrameProp('Name', data = source2)
clip3 = clip3.std.SetFrameProp('Name', data = source3)

## Output: Comment/Uncomment as needed depending on how many clips you're comparing
set_output(clip1, name=source1)
set_output(clip2, name=source2)
set_output(clip3, name=source3)</code></pre>
</doc-codeblock></div>
</doc-panel>
<ol start="3">
<li>Now to use VS-Preview you just need to run this command in your terminal, or paste it into a text file and save it as <code v-pre>comp.bat</code></li>
</ol>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">vspreview &quot;C:\Path\To\comp.vpy&quot;</code></pre>
</doc-codeblock></div>
<ul>
<li>To get the path, shift and right-click the comp.py file you just made, and select <code v-pre>Copy as path</code></li>
</ul>
<p>Now, when making comps you just edit <code v-pre>comp.vpy</code> to include the necessary file paths, comment/uncomment lines as required, edit the crop, trim, upscale, etc values when needed, and then run <code v-pre>comp.bat</code> or run <code v-pre>vspreview comp.vpy</code> directly from your terminal.</p>
<p>Unsure of how to go about editing the comp script? The panel below will explain how each section works.</p>
<doc-panel id="understanding-comp-vpy" collapsed>
    <template #title>Understanding comp.vpy</template>
<p>At first, the comparison script may seem daunting, especially since it&#x27;s a giant wall of text with a lot of technical jargon. It has basic explanations of each section, however, this guide will go over each part in more detail and describe how to properly edit the values.</p>
<p>When comparing, you will want to go through the different sections, uncommenting/commenting the parts you need to use (removing/adding the ## in front of them, which determines whether the line will be used or not), modifying the values to suit your needs and applying them to the correct clip numbers.</p>
<p><strong>Boring stuff</strong>: Just the requirements to make the script work, can be safely ignored.</p>
<p><strong>File paths</strong>: The location of the video files you want to compare, you just need to hold shift and right-click the video file, select copy as path, then paste it into this section.</p>
<p><strong>Source:</strong> The name for each video, this will be shown on the slowpics page, frameinfo in the top left, and file name if you save manually. Recommended to set as the encoder name (not necessarily the release group) in the case of encodes, the region and type in the case of discs/remuxes, or the streaming service in the case of WEB-DLs. Some examples for each respective category would be Beatrice-Raws for one of their encodes, JPN BD for a Japanese Blu-ray or Remux, and DSNP for a WEB-DL from Disney+. If your source is HDR/DV it&#x27;s best to specify that too.</p>
<p><strong>FieldBased:</strong> Only required when the content is flagged as interlaced, it may actually be progressive which would require you to set a value of 0 to tell VS-Preview that it&#x27;s progressive, otherwise the quality will look worse than it is.</p>
<p><strong>Convert:</strong> Converts the video from 8/10 bit to 16 bit and full chroma, which allows for better precision with certain filters. Should only be enabled when you&#x27;re using a filter that requires it, such as tonemapping, gamma fixing, or cropping an odd number of pixels.</p>
<p><strong>Cropping:</strong> Crops pixels from any side of the video, should be used on any content that has letterboxing (black borders) on the top/bottom or sides. Generally encodes do this already, so it will only apply to Blurays/Remuxes and WEB-DLs. To calculate the value you need to enter, you can use the crop feature in the Misc section at the bottom right of VS-Preview, keep on increasing the value until the black bars are completely gone, turn it off then copy the numbers into comp.vpy. Alternatively, you can quickly count the pixels with a tool such as ShareX.</p>
<p><strong>Scaling:</strong> When you have multiple clips of different resolutions, you need to scale them to match each other. Generally, this means getting the resolution of the highest res video and upscaling the rest to match it. In VS-Preview at the bottom left you can see the video resolution, so for example, if you&#x27;re comparing a 1920x1080 video to a 1280x720 video, you would set the 1280x720 video to 1920, 1080.</p>
<p><strong>Trimming:</strong> Often your videos will not be in sync, so you need to cut a certain amount of frames from one of the clips in order for them to match. To easily calculate the value required, navigate to a unique frame such as a scene change in one source, note the frame number, then navigate to the exact same unique frame in your other source and note that frame number, then simply work out the difference between the two numbers, and delay the further ahead video by that amount. Usually, the difference is just 24 black frames at the start. After reloading VS-Preview (Control+R) they should both be perfectly in sync, however, it&#x27;s possible that they may de-sync later on due to small differences in cuts. In those situations, you can either figure out the new delay as you go along (Bolt-Action) or find all the delays first and set the whole clip to be in sync (Auto/Semi-auto). An example of chaining together trims would be <code v-pre>clip4 = clip4[0:8705]+clip4[8706:25894]+clip4[25895:]</code></p>
<p><strong>Set FPS:</strong> Sometimes you will find that different videos have different frame rates, visible at the bottom left of VS-Preview. This framerate difference usually causes your sources to slowly become more and more out of sync, so you&#x27;ll need to set the FPS of the outlier to make it match the rest. In rarer circumstances VS-Preview will keep the sources in sync despite there being a difference in frame rate, in those scenarios you can ignore this section, but do note that this means that one of the sources either has dropped or duplicated frames, which should be noted when posting the comp.</p>
<p><strong>Tonemapping:</strong> For HDR or DV content, by default they won&#x27;t display correctly so they need to be tonemapped to SDR to look normal. This filter requires you to uncomment the Convert section mentioned earlier. If the content appears as washed out, it&#x27;s HDR and you should use src_csp=1, if it appears green/purple then it&#x27;s DV and you need to use src_csp=3. Most other values can remain unchanged unless you wish to play around with different tone mapping algorithms. dst_max forces a certain brightness, it can be used to make HDR/DV clips appear brighter for easier comparison to SDR.</p>
<p><strong>Set Colour Range:</strong> When content has the wrong metadata or you&#x27;re tonemapping a DV clip (needs to be set to limited)</p>
<p><strong>Gamma:</strong> Allows you to adjust the gamma of the videos, most commonly used to correct what&#x27;s known as the &quot;Gamma bug&quot; that you&#x27;ll sometimes come across, where one source is much brighter than the rest.</p>
<p><strong>Set Matrix:</strong> If you notice that certain colours are slightly off between sources (Most notably reds/greens/blues) then your source likely has incorrect or missing matrix metadata. Most commonly you encounter this when upscaling content (eg DVDs to 1080p, BDs to 4K) and 4K SDR WEB releases. Generally speaking, HD SDR content (BDs, 720p-4K WEB) should be set as intval=1 (BT.709), SD content (DVDs) should be set as 5 (BT.601), HDR/DV content should be set as intval=9 (BT.2020 NCL). If this does not fix your issue, see below.</p>
<p><strong>Correct Matrix:</strong> Sometimes simply setting the correct Matrix does not work, and this is because the video has undergone an incorrect conversion which you need to reverse.</p>
<p><strong>Fix Double range compression:</strong> Some sources will have undergone range compression twice, and will appear as very washed out. To fix this simply uncomment the lines and enter the correct clip number.</p>
<p><strong>Frameinfo:</strong> Lists the frame number, type, and source name in the top left of the videos.</p>
<p><strong>FrameProp:</strong> Sets the source name you entered earlier, for correct labelling on slow.pics.</p>
<p><strong>Output:</strong> Simply makes the clips appear in VS-Preview.</p>
</doc-panel>
<doc-anchor-target id="screenshotting">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#screenshotting">#</doc-anchor-trigger>
        <span>Screenshotting</span>
    </h2>
</doc-anchor-target>
<p>There are 3 methods of screenshotting:</p>
<p><strong>Full-auto:</strong> Allowing VS-Preview to do everything for you, by far the fastest option.</p>
<p><strong>Semi-auto:</strong> Manually marking the frame numbers as you go through the clips, then letting VS-Preview automatically extract, compress, and upload them to slow.pics. Generally the recommended option.</p>
<p><strong>Bolt-action:</strong> Saving the images locally as you go through the clips, then uploading them manually later. Mainly useful for uploading to other sites and keeping the comparison archived locally, but also has other benefits like faster and more efficient compression.</p>
<doc-tabs>
<doc-tab v-cloak id="full-auto">
<template #title>Full-auto</template>
<ul>
<li>Click the <code v-pre>comp</code> button in the bottom right of the toolbar.</li>
<li>Untick <code v-pre>I</code> so only <code v-pre>P</code> and <code v-pre>B</code> are selected, or only select <code v-pre>B</code> if you want matching frame-types.</li>
<li>Tick the <code v-pre>public</code> box to make the comparison available on the slow.pics homepage.</li>
<li>Name the collection appropriately for Slow.pics, get the TMDB ID from <a href="https://www.themoviedb.org/">https://www.themoviedb.org/</a> and paste it in the TMDB box, with it correctly set to Movie/TV depending on the content.</li>
<li>Set the tag to the same name as listed on TMDB.</li>
<li>Set &quot;Delete After&quot; to your desired value, by default comps expire after 2 years of not being viewed.</li>
<li>Under <code v-pre>random</code> enter a frame count amount, you should use a large number of images to make the comparison as effective as possible, ideally at least 40 since not all frames will be useful.</li>
<li>Make sure your PNG compression is set to 0 (Max) under Settings -&gt; Main*</li>
<li>Hit <code v-pre>Start Upload</code> and patiently wait while VS-Preview collects the frames and uploads the comparison.</li>
</ul>
<p><strong>If you wish to upload to a slow.pics account for comp history and ability to edit comps, do the following:</strong></p>
<ul>
<li>Make sure you&#x27;re logged into slow.pics</li>
<li>Open the developer menu, go to Application at the top, then Storage on the left, open Local Storage and select slow.pics. Copy the browserId.</li>
<li>Still in the developer menu, go to Network, refresh the page to populate the list, select the slow.pics entry and scroll until you see SLPSESSION and copy the ID.</li>
<li>Back in VS-Preview, go to settings, Comp, and paste the two IDs in the relevant boxes.</li>
</ul>
</doc-tab>
<doc-tab v-cloak id="semi-auto">
<template #title>Semi-auto</template>
<doc-anchor-target id="marking-the-frames">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#marking-the-frames">#</doc-anchor-trigger>
        <span>Marking the frames</span>
    </h3>
</doc-anchor-target>
<ul>
<li>Press <code v-pre>Shift</code> &amp; <code v-pre>Right Arrow</code> keys to move forward a set amount of frames (configurable in playback section of the toolbar)</li>
<li><code v-pre>Number</code> keys to switch between video sources and compare quality.</li>
<li>Press <code v-pre>Control</code> &amp; <code v-pre>Space</code> keys to mark the frame numbers. (Configurable in cfg files)</li>
<li>Aim to screenshot a variety of scenes, light/dark, low/high motion, etc.</li>
<li>Try and match frame type when screenshotting, e.g. all sources on a <code v-pre>B</code> frame, single frame jump comes in handy for when they don&#x27;t match (<code v-pre>Arrow keys</code>).</li>
<li>If a source file does not have <code v-pre>B</code> frames for you to match, you should skip matching frame type entirely for that source. This is usually true for Crunchyroll WEB-DLs, which have no <code v-pre>B</code> frames.</li>
</ul>
<doc-anchor-target id="uploading-the-comp">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#uploading-the-comp">#</doc-anchor-trigger>
        <span>Uploading the comp</span>
    </h3>
</doc-anchor-target>
<ul>
<li>Once you are done marking frames, click the <code v-pre>comp</code> button in the bottom right of the toolbar.</li>
<li>Tick the <code v-pre>public</code> box to make the comparison available on the slow.pics homepage.</li>
<li>Name the collection appropriately for Slow.pics, get the TMDB ID from <a href="https://www.themoviedb.org/">https://www.themoviedb.org/</a> and paste it in the TMDB box, with it correctly set to Movie/TV depending on the content.</li>
<li>Set the tag to the same name as listed on TMDB.</li>
<li>Set &quot;Delete After&quot; to your desired value, by default comps expire after 2 years of not being viewed.</li>
<li>Under <code v-pre>random</code> you may specify an additional frame amount for VS-Preview to pick at random, recommended to help fill the comparison with more frames.</li>
<li>Untick <code v-pre>Current frame</code> as you likely don&#x27;t want that included.</li>
<li>Make sure your PNG compression is set to 0 (Max) under Settings -&gt; Main</li>
</ul>
<p><strong>If you wish to upload to a slow.pics account for comp history and the ability to edit comps do the following:</strong></p>
<ul>
<li>Make sure you&#x27;re logged into slow.pics</li>
<li>Open the developer menu, go to Application at the top, then Storage on the left, open Local Storage and select slow.pics. Copy the browserId.</li>
<li>Still in the developer menu, go to Network, refresh the page to populate the list, select the slow.pics entry and scroll until you see SLPSESSION and copy the ID.</li>
<li>Back in VS-Preview, go to settings, Comp, and paste the two IDs in the relevant boxes.</li>
</ul>
<doc-anchor-target id="qol-changes">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#qol-changes">#</doc-anchor-trigger>
        <span>QOL Changes</span>
    </h3>
</doc-anchor-target>
<ul>
<li><p><strong>Jump through frames quickly</strong></p>
<p>In VS-Preview on the bottom bar select Playback, directly right of the playback keys set the <code v-pre>1</code> value to <code v-pre>120</code>.</p>
</li>
<li><p><strong>Mark screenshots quicker by setting the mark frame button to enter</strong></p>
</li>
</ul>
<p>Open <code v-pre>%localappdata%\Programs\Python\Python311\Lib\site-packages\vspreview\toolbars\comp</code> and edit <code v-pre>toolbar.py</code></p>
<ul>
<li><p>Line 552: Replace <code v-pre>QKeyCombination(Qt.Modifier.CTRL, Qt.Key.Key_Space).toCombined(), self.add_current_frame_to_comp</code> with <code v-pre>(Qt.Key_Return), self.add_current_frame_to_comp</code></p>
</li>
<li><p><strong>Swap binds to save your pinky finger, so you no longer have to hold shift all the time</strong></p>
<p>Open <code v-pre>%localappdata%\Programs\Python\Python311\Lib\site-packages\vspreview\toolbars\playback\</code> and edit <code v-pre>toolbar.py</code></p>
</li>
<li><p>Select lines 180-187, delete them, and paste</p>
</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">self.main.add_shortcut(QKeyCombination(Qt.SHIFT, Qt.Key.Key_Left), self.seek_to_prev_button.click)
self.main.add_shortcut(QKeyCombination(Qt.SHIFT, Qt.Key.Key_Right), self.seek_to_next_button.click)
self.main.add_shortcut(Qt.Key.Key_Left, self.seek_n_frames_b_button.click)
self.main.add_shortcut(Qt.Key.Key_Right, self.seek_n_frames_f_button.click)</code></pre>
</doc-codeblock></div>
</doc-tab>
<doc-tab v-cloak id="bolt-action">
<template #title>Bolt-action</template>
<ul>
<li>Press <code v-pre>Shift</code> &amp; <code v-pre>Right Arrow</code> keys to move forward a set amount of frames (configurable in playback section of the toolbar)</li>
<li><code v-pre>Number</code> keys to switch between video sources and compare quality.</li>
<li>Press <code v-pre>Shift</code> &amp; <code v-pre>S</code> keys to take and save screenshots. (Configurable in cfg files)</li>
<li><em>Note: Make sure your PNG compression is enabled under Settings -&gt; Main (0-50 depending on speed impact), or disabled (100) if you plan to compress with a tool such as Oxipng later</em></li>
<li>Aim to screenshot a variety of scenes, light/dark, low/high motion, etc.</li>
<li>Try and match frame type when screenshotting, e.g. all sources on a <code v-pre>B</code> frame, single frame jump comes in handy for when they don&#x27;t match (<code v-pre>Arrow keys</code>).</li>
<li><em>Note: If a source file does not have <code v-pre>B</code> frames for you to match, you should skip matching frame type entirely for that source. This is usually true for Crunchyroll WEB-DLs, which have no <code v-pre>B</code> frames.</em></li>
</ul>
<doc-anchor-target id="qol-improvements">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#qol-improvements">#</doc-anchor-trigger>
        <span>QOL Improvements</span>
    </h4>
</doc-anchor-target>
<ul>
<li><p><strong>Use slow.pics friendly file naming, so you can drag all the images onto the site and have them automatically sorted, with comparison names intact.</strong></p>
<p>In VS-Preview on the bottom bar select Misc, and set file name template to <code v-pre>{frame}_{index}_{Name}</code>.</p>
</li>
<li><p><strong>Jump through frames quickly</strong></p>
<p>In VS-Preview on the bottom bar select Playback, directly right of the playback keys set the <code v-pre>1</code> value to <code v-pre>120</code>.</p>
</li>
<li><p><strong>Take screenshots quicker by setting the save image button to enter</strong></p>
<p>Open <code v-pre>%localappdata%\Programs\Python\Python311\Lib\site-packages\vspreview\toolbars\misc</code> and edit <code v-pre>toolbar.py</code></p>
</li>
<li><p>Line 166: Replace <code v-pre>QKeyCombination(Qt.Modifier.SHIFT, Qt.Key.Key_S).toCombined(), self.save_frame_as_button.click</code> with <code v-pre>(Qt.Key_Return), self.save_frame_as_button.click</code>.</p>
</li>
<li><p>If you can&#x27;t spam fast enough, in vs-preview click settings and set PNG compression to a lower level (higher value).</p>
</li>
<li><p><strong>Swap binds to save your pinky finger, so you no longer have to hold shift all the time</strong></p>
</li>
</ul>
<p>Open <code v-pre>%localappdata%\Programs\Python\Python311\Lib\site-packages\vspreview\toolbars\playback\</code> and edit <code v-pre>toolbar.py</code></p>
<ul>
<li>Select lines 180-187, delete them, and paste the following, making sure the indentation of the lines match (using spaces).</li>
</ul>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">self.main.add_shortcut(QKeyCombination(Qt.SHIFT, Qt.Key.Key_Left), self.seek_to_prev_button.click)
self.main.add_shortcut(QKeyCombination(Qt.SHIFT, Qt.Key.Key_Right), self.seek_to_next_button.click)
self.main.add_shortcut(Qt.Key.Key_Left, self.seek_n_frames_b_button.click)
self.main.add_shortcut(Qt.Key.Key_Right, self.seek_n_frames_f_button.click)</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="post-processing">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#post-processing">#</doc-anchor-trigger>
        <span>Post-processing</span>
    </h4>
</doc-anchor-target>
<p>The Bolt-action method is best paired with some scripts to run after you&#x27;ve saved all the frames. The following scripts are generated by chatgpt as I cannot code <span class="docs-emoji">&#x1F44D;</span>
Generally, I just run all 3 with a .bat file, or just the first 2 if I&#x27;m not uploading to ptpimg.</p>
<doc-panel id="zero-padding" collapsed>
    <template #title>Zero padding</template>
<p>Zero pads all frames in the current directory and removes some of the garbage from the name. Allows for automatic numerical sorting on slow.pics and automatic filling of comparison names based on comp.vpy</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-python"><code v-pre class="language-python">import os

def zero_pad_and_clean_file_names():
    current_directory = os.getcwd()
    for filename in os.listdir(current_directory):
        base_name, extension = os.path.splitext(filename)
        parts = base_name.split('_')

        if len(parts) &gt; 2 and parts[0].isdigit():
            parts[0] = parts[0].zfill(5)
            parts[2] = parts[2].replace(&quot;b'&quot;, &quot;&quot;).replace(&quot;'&quot;, &quot;&quot;)
            new_filename = '_'.join(parts) + extension
            os.rename(os.path.join(current_directory, filename), os.path.join(current_directory, new_filename))

# Usage example
zero_pad_and_clean_file_names()</code></pre>
</doc-codeblock></div>
</doc-panel>
<doc-panel id="compressing" collapsed>
    <template #title>Compressing</template>
<p>Compresses all png files in the current directory with Oxipng compression level 1, very fast and should take less than a minute to iterate over hundreds of images.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-python"><code v-pre class="language-python">import os
import glob
import subprocess

folder_path = os.getcwd()  # Get the current working directory

os.chdir(folder_path)  # Change the working directory to the specified folder

image_files = glob.glob(&quot;*.png&quot;)  # Get a list of PNG files in the folder

processes = []

# Divide the image files into chunks of four
image_chunks = [image_files[i:i+4] for i in range(0, len(image_files), 4)]

for images in image_chunks:
    command = [&quot;oxipng&quot;] + images + [&quot;-o&quot;, &quot;1&quot;, &quot;-s&quot;, &quot;-a&quot;, &quot;-t&quot;, &quot;8&quot;]
    process = subprocess.Popen(command)
    processes.append(process)

# Wait for all processes to finish
for process in processes:
    process.wait()</code></pre>
</doc-codeblock></div>
</doc-panel>
<doc-panel id="uploading-to-ptpimg" collapsed>
    <template #title>Uploading to ptpimg</template>
<p>Uploads all png files in the current directory to ptpimg. Requires your ptpimg API key in <code v-pre>%USERPROFILE%\.ptpimg.key</code>.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-python"><code v-pre class="language-python">#!/usr/bin/python
#Windows wildcard support fork - use at your own peril
import sys
import requests
import os
import glob
argc=len(sys.argv)
noconf=0
debug=0
configfile=os.path.join(os.path.expanduser(&quot;~&quot;), &quot;.ptpimg.key&quot;)
if argc==1:
    print(&quot;&quot;&quot;Usage: ptpimgup.py file1 file2 file3...
    Uploads images to ptpimg and spits out http urls of said images
    config file %s should contain api_key eg:
    01234567-89ab-cdef-0123-456789abcdef
    contact oddbondboris with bugs&quot;&quot;&quot;%(configfile))
    sys.exit()
try:
    configfile=os.path.expanduser(configfile)
    cfgfile=open(configfile,'r')
    apikey=cfgfile.read()[:36]
    if len(apikey.split(&quot;-&quot;)) != 5:
        print(&quot;bad api key %s, file should only contain the api key&quot;%(apikey))
    else:
        if debug==1:
            print(apikey)
except:
    print(&quot;broken configi %s&quot;%(configfile))
    raise
    sys.exit()
finally:
    try:
        cfgfile.close()
    except:
        pass
links=[]
if '*' in sys.argv[-1]:
    sys.argv[-1:] = glob.glob(sys.argv[-1])
for fname in sys.argv[1:]:
    #print fname
    try:
        curimg=open(os.path.expanduser(fname),'rb')
        r=requests.post(&quot;https://ptpimg.me/upload.php&quot;,files={('file-upload[0]',('lol.png',curimg, 'image/jpg'))},data={'api_key':apikey})
        if r.status_code==200:
            print(&quot;https://ptpimg.me/%s.%s&quot;%(r.json()[0]['code'],r.json()[0]['ext']))
            links.append((&quot;https://ptpimg.me/%s.%s&quot;%(r.json()[0]['code'],r.json()[0]['ext']),fname))
        else:
            print(&quot;error uploading file %s http %s&quot;%(fname,r.status_code))
    except IOError as e:
        print(&quot;error on file %s : %s&quot;%(fname,e.strerror))
    finally:
        try:
            curimg.close()
        except:
            pass
for link in links:
    print(&quot;[img]%s[/img]&quot;%(link[0]))
for link in links:
    print(&quot;%s %s&quot;%(link))</code></pre>
</doc-codeblock></div>
</doc-panel>
</doc-tab>
</doc-tabs>
<doc-anchor-target id="automatic-comp-scripts">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#automatic-comp-scripts">#</doc-anchor-trigger>
        <span>Automatic Comp Scripts</span>
    </h2>
</doc-anchor-target>
<p>If VS-Preview is too scary to setup, you can simply run a script to generate the comparisons for you.</p>
<doc-anchor-target id="setup">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#setup">#</doc-anchor-trigger>
        <span>Setup</span>
    </h3>
</doc-anchor-target>
<ol>
<li><p>Install <a href="https://www.python.org/downloads/release/python-3105/">Python 3.10</a></p>
</li>
<li><p>Install <a href="https://github.com/vapoursynth/vapoursynth/releases">Vapoursynth</a> - Select <code v-pre>Install for me only</code>.</p>
</li>
<li><p>Install dependencies via running the following command in your terminal:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">pip install pathlib anitopy pyperclip requests requests_toolbelt</code></pre>
</doc-codeblock></div>
</li>
<li><p>Download <a href="https://github.com/HomeOfAviSynthPlusEvolution/L-SMASH-Works/releases" title="LSMASHSource">LSMASHSource</a> and open it. Inside the zip, open the x64 folder, copy <code v-pre>LSMASHSource.dll</code> and paste it in <code v-pre>%appdata%\VapourSynth\plugins64</code></p>
</li>
<li><p>(Optional) Install <a href="https://ffmpeg.org/download.html">FFmpeg</a> and add it to PATH.</p>
</li>
</ol>
<doc-anchor-target id="running-the-script">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#running-the-script">#</doc-anchor-trigger>
        <span>Running the script</span>
    </h3>
</doc-anchor-target>
<ol>
<li><p>Put <code v-pre>comp.py</code> into the same folder where the video files you want to compare are located.</p>
</li>
<li><p>Rename your files to have the typical <code v-pre>[Group] Show - EP.mkv</code> naming, since the script will try to parse the group and show name.</p>
</li>
<li><p>When there&#x27;s no group, such as BDMV or WEB-DL, use the source/service as the group tag.
For example:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-shell-session"><code v-pre class="language-shell-session">/Comparison/
 [JPBD] Youjo Senki - 01.m2ts 
 [Crunchyroll WEB-DL] Youjo Senki - 01.mkv
 [Group] Youjo Senki - 01.mkv
 comp.py</code></pre>
</doc-codeblock></div>
<p>This will result in images named as JPBD.png, Crunchyroll WEB-DL.png, and Group.png from JPBD, Crunchyroll WEB-DL, and Group respectively.</p>
</li>
<li><p>Adjust the variables in the script accordingly.</p>
</li>
<li><p>Run the script via either double-clicking it or by running <code v-pre>py comp.py</code> in your terminal.</p>
</li>
</ol>
<ul>
<li><a href="https://gist.github.com/McBaws/a5dcbb244c91bcfdedababf3ee652609">McBaws&#x27; Script</a></li>
</ul>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-blue-500 dark:text-blue-400 hover:text-blue-700 hover:underline" href="https://github.com/Snaacky/thewiki/edit/master/docs/tutorials/comparison.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit this page</span>
                                    </a>
                                </div>
                            
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Comparison", level: 2, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
